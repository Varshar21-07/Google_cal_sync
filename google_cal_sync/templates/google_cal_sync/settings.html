{% extends "google_cal_sync/base.html" %}

{% block title %}Settings • Calendar Sync{% endblock %}

{% block header %}Workspace Settings{% endblock %}

{% block content %}
<section class="panel">
    <div class="panel-header">
        <h3>Google Account</h3>
        <span>Manage connected identity and scopes</span>
    </div>
    <div class="settings-row">
        <div>
            <p class="settings-label">Primary Calendar</p>
            <p class="settings-value">designer@example.com</p>
        </div>
        <button class="ghost-btn">Switch Account</button>
    </div>
    <div class="settings-row">
        <div>
            <p class="settings-label">Token Status</p>
            {% if has_token %}
                <p class="settings-value {% if token_status == 'Active' %}ok{% else %}error{% endif %}">
                    {{ token_status }} · {% if token_status == 'Active' %}Refreshes automatically{% else %}Needs refresh{% endif %}
                </p>
            {% else %}
                <p class="settings-value">Not connected</p>
            {% endif %}
        </div>
        {% if has_token %}
            <button class="ghost-btn">Revoke Access</button>
        {% else %}
            <a href="{% url 'google_cal_sync:google_oauth_login' %}" class="ghost-btn">Connect Google</a>
        {% endif %}
    </div>
</section>
{% endblock %}

